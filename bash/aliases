alias ..='cd ..'
alias ...='cd ../..'
if ( __is_osx ); then
    alias ls='ls -G'
else
    alias ls='ls --color=auto'
fi
alias l='ls -lh'
alias ll='ls -lha'

alias grep='grep --color=auto'
alias tree='tree -Ca -I "*.pyc"'
alias G='grep'
alias M='more'

# Processes
alias tu='top -o cpu' # cpu
alias tm='top -o vsize' # memory

# Text editors
if ( __is_osx ); then
    alias m='mate'
    alias mm='mate .'
    alias e='/Applications/Emacs.app/Contents/MacOS/bin/emacsclient -n'
    alias em='open -a Emacs'
else
    alias e='emacsclient -n -a emacs'
    alias em='emacs'
fi
alias ee='e .'

# Git
alias g='git'
alias gg='git status -sb'
alias gd='git diff'
alias gdc='git diff --cached'
alias gl='git lg'
alias gco='git checkout'
alias ungit="find . -name '.git' -exec rm -rf {} \;"
if ( __is_osx ); then
    alias gx='gitx'
fi

# Python
alias p='python'
alias pp='ipython'

function cl() {
    cd $1; l
}

function take() {
    mkdir -p "$1"
    cd "$1"
}

# Start ssh-agent and load key(s).
# May be useful when our key uses passphrase.
function ssh-agent-start() {
    # Start ssh-agent with bash shell
    eval `ssh-agent -s`

    # Add key(s). Will ask for passphrase if needed
    for f in `ls ~/.ssh | grep -e "^id_[r|d]sa[^.]*$"`
    do
        ssh-add -k "~/.ssh/$f"
    done

    # Listing keys currently represented by the agent
    ssh-add -l
}


# Kill the current ssh-agent
function ssh-agent-stop() {
    ssh-agent -k
}

if ( __is_osx ); then
    # Copy current dir path to system clipboard
    function pwdcopy() {
        pwd | tr -d '\n' | pbcopy
    }

    # Copy name of current dir to system clipboard
    function dircopyname() {
        basename $(pwd) | tr -d '\n' | pbcopy
    }

    # Open github page for specified user.
    function github() {
        local user=$1
        if [ -z "$1" ]; then
            user="underself"
        fi
        open "https://github.com/$user"
    }
fi

# Change directory to code project
function c() {
    cd ~/code/$1;
}

# Change directory to code external project
function ce() {
    cd ~/code_ext/$1;
}

# Create virtualenv with --no-site-packages option by default
function mkvirtualenv-no-site-packages() {
    mkvirtualenv --no-site-packages $*
}

# Create virtualenv and project for it with --no-site-packages option
# by default
function mkproject-no-site-packages() {
    mkproject --no-site-packages $*
}

# Set the terminal's title
function title() {
    case $TERM in
        *xterm*|ansi)
            echo -ne '\033]0;'"$@"'\a'
            ;;
    esac
}

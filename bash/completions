if which brew > /dev/null 2>&1; then
    # All existing completions
    __source_if_exists $(brew --prefix)/etc/bash_completion

    # Completion for Homebrew
    __source_if_exists $(brew --prefix)/Library/Contributions/brew_bash_completion.sh
fi

# Completion for our "git" alias
complete -o default -o nospace -F _git g

# Completion for pip
# You can also use command like:
#   [[ -n `which pip` ]] && eval "`pip completion --bash`"
function _pip_completion() {
    COMPREPLY=( $( COMP_WORDS="${COMP_WORDS[*]}" \
                   COMP_CWORD=$COMP_CWORD \
                   PIP_AUTO_COMPLETE=1 $1 ) )
}
complete -o default -F _pip_completion pip

# Completion for  "c" alias.
function __code_dir_complete() {
    local cur=${COMP_WORDS[COMP_CWORD]}
    COMPREPLY=( $(cd ~/code && compgen -d -- "$cur" ) )
}
complete -o dirnames -o nospace -F __code_dir_complete c

# Completion for "ce" alias.
function __code_ext_dir_complete() {
    local cur=${COMP_WORDS[COMP_CWORD]}
    COMPREPLY=( $(cd ~/code_ext && compgen -d -- "$cur" ) )
}
complete -o dirnames -o nospace -F __code_ext_dir_complete ce

# Completion for "d" alias.
function __downloads_dir_complete() {
    local cur=${COMP_WORDS[COMP_CWORD]}
    local IFS=$'\n'
    COMPREPLY=( $( cd ~/Downloads && compgen -d -- "$cur" ) )

}
complete -o dirnames -o nospace -F __downloads_dir_complete d


# Completion for "db" alias.
function ___dropbox_complete() {
    local cur=${COMP_WORDS[COMP_CWORD]}
    local IFS=$'\n'
    COMPREPLY=( $( cd ~/Dropbox && compgen -d -- "$cur" ) )

}
complete -o dirnames -o nospace -F ___dropbox_complete db
